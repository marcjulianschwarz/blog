<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="How to create simple iOS widgets using Scriptable and JavaScript. -  - Marc Julian Schwarz" />
<meta name="keywords" content="EN,Scriptable,iOS,2020" />
<meta name="author" content="Marc Julian Schwarz" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/assets/styles/index.css" />

<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />
<link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" />
<meta name="msapplication-TileColor" content="#da532c" />
<meta name="theme-color" content="#ffffff" />

    <title>How to create simple iOS widgets using Scriptable and JavaScript. - Marc's Notes</title>
  </head>
  <body>
    <div class="container">
      <div class="header-container">
  <div>
    <a href="/">
      <h1>Marc's Notes</h1>
    </a>
  </div>
  <div class="links">
    <a href="https://github.com/marcjulianschwarz">GitHub</a>
    <a href="https://www.linkedin.com/in/marcjulian/">LinkedIn</a>
  </div>
</div>

      <div class="post-title-container">
        <div>
          <h2>How to create simple iOS widgets using Scriptable and JavaScript.</h2>
          <h3></h3>
          <p class="date">07.12.2020</p>
        </div>
        <div class="tags"><div class="tag tag-post">
  <a href="/tags/en.html">EN</a>
</div><div class="tag tag-post">
  <a href="/tags/scriptable.html">Scriptable</a>
</div><div class="tag tag-post">
  <a href="/tags/ios.html">iOS</a>
</div><div class="tag tag-year">
  <a href="/tags/2020.html">2020</a>
</div></div>
      </div>
      <!-- <hr /> -->
      <div class="page-container"><h2>An introduction on how to create a simple widget for iOS</h2>

<p>You will learn how to create simple web requests, build a good-looking widget and share it with others.</p>

<p>Usually, an iOS widget loads some sort of data from an API, a file or the web and displays it on your home-screen. Within the Scriptable community, people agreed on a basic structure for the code.</p>

<p>It consists of these two methods:</p>

<ul>
<li>getData()</li>
<li>createWidget(data)</li>
</ul>

<p>In the following three steps I will show you how to implement them. </p>

<h3>1. Getting data.</h3>

<p>A simple web request can be used to load the data. In this case, a JSON file. Notice that the getData(url) method needs the async keyword in front of it because it uses await in its body.</p>

<pre><code>const url = "https://www.github.com/marcjulianschwarz/code/sample.json";

async function getData(url){
    let request = new Request(url);
    data = await request.loadJSON();
    return data;
}

function processData(data){
    // Process your data here
    // ...
    return processedData;
}
</code></pre>

<h3>2. Processing data.</h3>

<p>The processData() function can be used to further process the data to your needs. </p>

<h3>3. Build the widget.</h3>

<p>Now itâ€™s time to build the actual widget. Right now Scriptable has so called ListWidgets. After you created a ListWidget() object, you can add text and other media to it.
In this example the widget will display the text stored in data.sample.</p>

<pre><code>function createWidget(data){
    var widget = new ListWidget();

    var text = widget.addText(data.sample);
    text.textColor = Color.dynamic(Color.black, Color.white);
    text.font = Font.regularRoundedSystemFont(13);

    widget.backgroundColor = Color.dynamic(Color.white, Color.black);

    return widget;
}
</code></pre>

<p>In the last step, all functions will be called like this:</p>

<pre><code>let data = await getData(url);
let processedData = processData(data);

let widget = await createWidget(processedData);

Script.setWidget(widget);
Script.complete();
</code></pre>

<h3>4. Share</h3>

<p>Finally, you probably want to share your widget with others.
To easily achieve this, I would recommend uploading it to GitHub.
Add a good README file that explains what your widget is doing and how to install it.</p>

<h3>5. Questions?</h3>

<p>If you have any questions or need help, you can always contact me:</p>

<ul>
<li>Website: <a href="https://www.marc-julian.de/contact.html">marc-julian.de</a></li>
<li>LinkedIn <a href="https://www.linkedin.com/in/marcjulianschwarz">@marcjulianschwarz</a></li>
</ul>

<p>You can also check out the Scriptable documentation which is excellent.
There is also a nice <a href="">Scriptable discord server</a> which you can visit to share your creations or get help.</p>
</div>
    </div>
  </body>
</html>
